<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laporan</title>
    <link rel="stylesheet" href="/Admin/styles.css">
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 1em;
            font-family: Arial, sans-serif;
            text-align: left;
        }
        th, td {
            padding: 12px 15px;
            border: 1px solid #ddd;
        }
        th {
            background-color: #f4f4f4;
            color: #333;
            text-transform: uppercase;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
    </style>
    <script>
        function showTable() {
            const reportType = document.getElementById('report-type').value;
            const userActivityTable = document.getElementById('user-activity-table');
            const showSummaryTable = document.getElementById('show-summary');
            const setlistSummaryTable = document.getElementById('setlist-summary');
            const otherTables = document.querySelectorAll('.report-table');

            otherTables.forEach(table => table.style.display = 'none');

            if (reportType === 'user-activity') {
                userActivityTable.style.display = 'table';
            }
            if (reportType === 'show-summary') {
                showSummaryTable.style.display = 'table';
            }
            if (reportType === 'setlist-summary') {
                setlistSummaryTable.style.display = 'table';
            }
        }
    </script>
</head>
<body>
    <div class="wrapper">
        <aside class="sidebar">
            <h2>Dashboard Admin</h2>
            <ul>
                <li><a href="/admin/AddArtist">Tambah Artis</a></li>
                <li><a href="/admin/AddShow">Tambah Show</a></li>
                <li><a href="/admin/AddSetList">Tambah Setlist</a></li>
                <li><a href="/admin/ManageUser">Kelola Pengguna</a></li>
                <li><a href="/admin/Report">Laporan</a></li>
            </ul>
            <button onclick="location.href='/logout'" class="btn-logout">Logout</button>
        </aside>

        <main class="content">
            <h1>Laporan</h1>
            <form>
                <label for="report-type">Jenis Laporan:</label>
                <select id="report-type" onchange="showTable()">
                    <option value="none" selected>Pilih Jenis Laporan</option>
                    <option value="user-activity">Member</option>
                    <option value="setlist-summary">Ringkasan Setlist</option>
                    <option value="show-summary">Ringkasan Show</option>
                </select>
            </form>

            <!-- Tabel Aktivitas Pengguna -->
            <table id="user-activity-table" class="report-table" style="display: none;">
                <thead>
                    <tr>
                        <th>Username</th>
                        <th>Email</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="member : ${members}">
                        <td th:text="${member.username}"></td>
                        <td th:text="${member.email}"></td>
                    </tr>
                </tbody>
            </table>

            <!-- Tabel Ringkasan Setlist -->
            <table id="setlist-summary" class="report-table" style="display: none;">
                <thead>
                    <tr>
                        <th>Nama Lagu</th>
                        <th>Show Terkait</th>
                        <th>Nama Artis</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="setlist : ${setlists}">
                        <td th:text="${setlist.namaLagu}"></td>
                        <td th:text="${setlist.showTerkait}"></td>
                        <td th:text="${setlist.namaArtis}"></td>
                    </tr>
                </tbody>
            </table>

            <!-- Tabel Ringkasan Show -->
            <table id="show-summary" class="report-table" style="display: none;">
                <thead>
                    <tr>
                        <th>Show</th>
                        <th>Lokasi Show</th>
                        <th>Tanggal Show</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="show : ${shows}">
                        <td th:text="${show.namaShow}"></td>
                        <td th:text="${show.lokasiShow}"></td>
                        <td th:text="${show.tanggalShow}"></td>
                    </tr>
                </tbody>
            </table>
        </main>
    </div>
</body>
</html>
